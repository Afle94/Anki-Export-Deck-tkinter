<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <link href="css/index.css" rel=stylesheet type=text/css>

    <link rel="shortcut icon" type="image/x-icon" href="favicon.ico">

    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link type="text/css" rel="stylesheet" href="css/materialize.css" media="screen,projection" />

    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <script type="text/javascript">
        window.languagePluginUrl = 'https://cdn.jsdelivr.net/pyodide/v0.15.0/full/';
    </script>
    <script src="https://cdn.jsdelivr.net/pyodide/v0.15.0/full/pyodide.js"></script>

<title>Anki Deck Export</title>
</head>

<body style="text-align: center;">
    <h3 class="header" style="color:#2196f3;">Anki Deck Export</h3>

    <div class="row">
        <div class="col s12">
            <div class="card">
                <div class="card-content" style="text-align: justify">
                    <div>
                        Generate decks from csv and tsv files in three steps:
                    </div>
                    <div>
                        1. Import csv or tsv file
                    </div>
                    <div>
                        2. Enter fields name and export
                    </div>
                    <div>
                        3. Download generated deck
                    </div>

                </div>
            </div>
        </div>
    </div>

    <h4 id="loading-msg" style="color: #2196f3;">Wait for page to load</h4>

    <div id = "loading-spinner" class="preloader-wrapper big active">
        <div class="spinner-layer spinner-blue-only">
          <div class="circle-clipper left">
            <div class="circle"></div>
          </div><div class="gap-patch">
            <div class="circle"></div>
          </div><div class="circle-clipper right">
            <div class="circle"></div>
          </div>
        </div>
      </div>

    <div class="row">
        <div class="col s12">
            <div class="card">
                <div class="card-content">
                    <label>Choose file</label>
                    <div class="file-field input-field">
                        <div class="btn light-blue darken-1">
                            <span>Browse</span>
                            <input type="file" onchange="inputFile();" id="file" />
                        </div>

                        <div class="file-path-wrapper">
                            <input class="file-path validate" type="text" placeholder="Choose file" />
                        </div>
                    </div>

                    <div style="padding: 10px;">
                        <h5 style="display: inline;">Fields Separated By
                            <select id="fieldSeparatedBy" class="select-new">
                                <option value="tab">TAB</option>
                                <option value="comma">COMMA</option>
                            </select></h5>
                    </div>

                    <div class="btn" onclick="importFile()">Import</div>
                </div>
            </div>
        </div>
    </div>

    <div id="fields-card" style="display: none; padding-left: 10px; padding-right: 10px">
        <div class="card">
            <div class="card-content">
                <div id="fields-msg"></div>
                <div id="fields"></div>
                <div class="btn" onclick="exportDeck()">Export
                </div>
            </div>
        </div>
    </div>

    <div id="snackbar"></div>

    <div id="downloadCard" style="display: none; padding-left: 10px; padding-right: 10px">
        <div class="card">
            <div class="card-content">
                <div id="deck-generated-msg"></div>
                <div class="btn teal darken-1" onclick="downloadDeck()">Download
                </div>
            </div>
        </div>
    </div>

    <footer class="page-footer">
        <div class="container">
            <h5 class="white-text">Anki Deck Export</h5>
            <p class="grey-text text-lighten-4">Generate anki decks from csv and tsv files</p>
        </div>

        <div class="footer-copyright">
          <div class="container">
          Â© Mozilla Public License 2.0
          <a class="grey-text text-lighten-4 right" href="https://github.com/infinyte7/Anki-Export-Deck-tkinter">GitHub</a>
          </div>
        </div>
      
    </footer>

    <script src="js/index.js"></script>
    <script type="text/javascript" src="js/materialize.min.js"></script>
</body>

</html>